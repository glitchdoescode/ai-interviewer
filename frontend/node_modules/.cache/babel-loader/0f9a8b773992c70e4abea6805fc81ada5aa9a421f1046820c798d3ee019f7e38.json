{"ast":null,"code":"import React,{createContext,useContext,useReducer,useEffect}from'react';// Initialize context\nimport{jsx as _jsx}from\"react/jsx-runtime\";const InterviewContext=/*#__PURE__*/createContext();// Action types\nconst ACTION_TYPES={SET_USER_ID:'SET_USER_ID',SET_SESSION_ID:'SET_SESSION_ID',SET_LOADING:'SET_LOADING',SET_MESSAGES:'SET_MESSAGES',ADD_MESSAGE:'ADD_MESSAGE',SET_INTERVIEW_STAGE:'SET_INTERVIEW_STAGE',SET_ERROR:'SET_ERROR',CLEAR_ERROR:'CLEAR_ERROR',SET_VOICE_MODE:'SET_VOICE_MODE'};// Initial state\nconst initialState={userId:localStorage.getItem('userId')||null,sessionId:null,messages:[],loading:false,interviewStage:null,error:null,voiceMode:false};// Reducer function\nfunction interviewReducer(state,action){switch(action.type){case ACTION_TYPES.SET_USER_ID:return{...state,userId:action.payload};case ACTION_TYPES.SET_SESSION_ID:return{...state,sessionId:action.payload};case ACTION_TYPES.SET_LOADING:return{...state,loading:action.payload};case ACTION_TYPES.SET_MESSAGES:return{...state,messages:action.payload};case ACTION_TYPES.ADD_MESSAGE:return{...state,messages:[...state.messages,action.payload]};case ACTION_TYPES.SET_INTERVIEW_STAGE:return{...state,interviewStage:action.payload};case ACTION_TYPES.SET_ERROR:return{...state,error:action.payload};case ACTION_TYPES.CLEAR_ERROR:return{...state,error:null};case ACTION_TYPES.SET_VOICE_MODE:return{...state,voiceMode:action.payload};default:return state;}}// Provider component\nexport function InterviewProvider(_ref){let{children}=_ref;const[state,dispatch]=useReducer(interviewReducer,initialState);// Persist userId to localStorage\nuseEffect(()=>{if(state.userId){localStorage.setItem('userId',state.userId);}},[state.userId]);// Context value\nconst value={...state,setUserId:userId=>{dispatch({type:ACTION_TYPES.SET_USER_ID,payload:userId});},setSessionId:sessionId=>{dispatch({type:ACTION_TYPES.SET_SESSION_ID,payload:sessionId});},setLoading:isLoading=>{dispatch({type:ACTION_TYPES.SET_LOADING,payload:isLoading});},setMessages:messages=>{dispatch({type:ACTION_TYPES.SET_MESSAGES,payload:messages});},addMessage:message=>{dispatch({type:ACTION_TYPES.ADD_MESSAGE,payload:message});},setInterviewStage:stage=>{dispatch({type:ACTION_TYPES.SET_INTERVIEW_STAGE,payload:stage});},setError:error=>{dispatch({type:ACTION_TYPES.SET_ERROR,payload:error});},clearError:()=>{dispatch({type:ACTION_TYPES.CLEAR_ERROR});},setVoiceMode:enabled=>{dispatch({type:ACTION_TYPES.SET_VOICE_MODE,payload:enabled});}};return/*#__PURE__*/_jsx(InterviewContext.Provider,{value:value,children:children});}// Custom hook for using the context\nexport function useInterview(){const context=useContext(InterviewContext);if(context===undefined){throw new Error('useInterview must be used within an InterviewProvider');}return context;}export default InterviewContext;","map":{"version":3,"names":["React","createContext","useContext","useReducer","useEffect","jsx","_jsx","InterviewContext","ACTION_TYPES","SET_USER_ID","SET_SESSION_ID","SET_LOADING","SET_MESSAGES","ADD_MESSAGE","SET_INTERVIEW_STAGE","SET_ERROR","CLEAR_ERROR","SET_VOICE_MODE","initialState","userId","localStorage","getItem","sessionId","messages","loading","interviewStage","error","voiceMode","interviewReducer","state","action","type","payload","InterviewProvider","_ref","children","dispatch","setItem","value","setUserId","setSessionId","setLoading","isLoading","setMessages","addMessage","message","setInterviewStage","stage","setError","clearError","setVoiceMode","enabled","Provider","useInterview","context","undefined","Error"],"sources":["/home/glitch/Documents/ai-interviewer/frontend/src/context/InterviewContext.js"],"sourcesContent":["import React, { createContext, useContext, useReducer, useEffect } from 'react';\n\n// Initialize context\nconst InterviewContext = createContext();\n\n// Action types\nconst ACTION_TYPES = {\n  SET_USER_ID: 'SET_USER_ID',\n  SET_SESSION_ID: 'SET_SESSION_ID',\n  SET_LOADING: 'SET_LOADING',\n  SET_MESSAGES: 'SET_MESSAGES',\n  ADD_MESSAGE: 'ADD_MESSAGE',\n  SET_INTERVIEW_STAGE: 'SET_INTERVIEW_STAGE',\n  SET_ERROR: 'SET_ERROR',\n  CLEAR_ERROR: 'CLEAR_ERROR',\n  SET_VOICE_MODE: 'SET_VOICE_MODE',\n};\n\n// Initial state\nconst initialState = {\n  userId: localStorage.getItem('userId') || null,\n  sessionId: null,\n  messages: [],\n  loading: false,\n  interviewStage: null,\n  error: null,\n  voiceMode: false\n};\n\n// Reducer function\nfunction interviewReducer(state, action) {\n  switch (action.type) {\n    case ACTION_TYPES.SET_USER_ID:\n      return { ...state, userId: action.payload };\n    case ACTION_TYPES.SET_SESSION_ID:\n      return { ...state, sessionId: action.payload };\n    case ACTION_TYPES.SET_LOADING:\n      return { ...state, loading: action.payload };\n    case ACTION_TYPES.SET_MESSAGES:\n      return { ...state, messages: action.payload };\n    case ACTION_TYPES.ADD_MESSAGE:\n      return { \n        ...state, \n        messages: [...state.messages, action.payload] \n      };\n    case ACTION_TYPES.SET_INTERVIEW_STAGE:\n      return { ...state, interviewStage: action.payload };\n    case ACTION_TYPES.SET_ERROR:\n      return { ...state, error: action.payload };\n    case ACTION_TYPES.CLEAR_ERROR:\n      return { ...state, error: null };\n    case ACTION_TYPES.SET_VOICE_MODE:\n      return { ...state, voiceMode: action.payload };\n    default:\n      return state;\n  }\n}\n\n// Provider component\nexport function InterviewProvider({ children }) {\n  const [state, dispatch] = useReducer(interviewReducer, initialState);\n\n  // Persist userId to localStorage\n  useEffect(() => {\n    if (state.userId) {\n      localStorage.setItem('userId', state.userId);\n    }\n  }, [state.userId]);\n\n  // Context value\n  const value = {\n    ...state,\n    setUserId: (userId) => {\n      dispatch({ type: ACTION_TYPES.SET_USER_ID, payload: userId });\n    },\n    setSessionId: (sessionId) => {\n      dispatch({ type: ACTION_TYPES.SET_SESSION_ID, payload: sessionId });\n    },\n    setLoading: (isLoading) => {\n      dispatch({ type: ACTION_TYPES.SET_LOADING, payload: isLoading });\n    },\n    setMessages: (messages) => {\n      dispatch({ type: ACTION_TYPES.SET_MESSAGES, payload: messages });\n    },\n    addMessage: (message) => {\n      dispatch({ type: ACTION_TYPES.ADD_MESSAGE, payload: message });\n    },\n    setInterviewStage: (stage) => {\n      dispatch({ type: ACTION_TYPES.SET_INTERVIEW_STAGE, payload: stage });\n    },\n    setError: (error) => {\n      dispatch({ type: ACTION_TYPES.SET_ERROR, payload: error });\n    },\n    clearError: () => {\n      dispatch({ type: ACTION_TYPES.CLEAR_ERROR });\n    },\n    setVoiceMode: (enabled) => {\n      dispatch({ type: ACTION_TYPES.SET_VOICE_MODE, payload: enabled });\n    }\n  };\n\n  return (\n    <InterviewContext.Provider value={value}>\n      {children}\n    </InterviewContext.Provider>\n  );\n}\n\n// Custom hook for using the context\nexport function useInterview() {\n  const context = useContext(InterviewContext);\n  if (context === undefined) {\n    throw new Error('useInterview must be used within an InterviewProvider');\n  }\n  return context;\n}\n\nexport default InterviewContext; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}